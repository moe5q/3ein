<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Moe idriss</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="shortcut icon" type="image/x-icon" href="images/favicon.ico"/>
  
    <style>
        body {
            background-color: black;
            overflow: hidden; 
        }
        
        img {
            max-width: 50%;
            height: auto;
        }
        
        .image-container {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }
        
        @media (max-width: 767.98px) {
            .image-container {
                height: 100vh;
            }
        }
        
        .email-form {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 1px;
        }
        
        .email-form input[type="email"] {
            margin-top: 5px;
            width: 150px;
            height: 19.18px;
            font-family: 'Inter', sans-serif;
            font-style: normal;
            font-weight: 900;
            font-size: 7.15966px;
            border: none; /* Remove border */
            border-radius: 0px; /* Added border-radius for rounded corners */
            background: #FFFFFF;
            box-shadow: none; /* Remove shadow */
        }
        
        .email-form button {
            margin-top: 10px;
            
            /* Updated styles for submit button */
            width: 65px;
            height: 25px;
            font-family: 'Inter', sans-serif;
            font-style: normal;
            font-weight: 900;
            font-size: 7px;
            line-height: 1px;
            color: #FFFFFF;
            background: #0019FF;
            
            display: inline-block;
        }
        
        .email-form input:invalid {
            box-shadow: none; /* Remove the default red box-shadow */
        }
        
        .email-form input:invalid:focus {
            outline: none; /* Remove the default focus outline */
        }

        .image-container a {
            display: flex;
            justify-content: center;
            align-items: center;
        }
    </style>
</head>
<body>
    <div class="image-container">
        <a href="RECIENSCPE/v4.final.html">
            <img class="asset-1" src="images/Asset 2.png" alt="aliwashere">
        </a>

        <form id="emailForm" class="email-form" method="post" validate>
            <input id="email" type="email" name="email" placeholder="Enter your email" required>
            <button type="submit">Submit</button>
        </form>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.7.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.7.0/firebase-database.js"></script>
    <script>
        document.getElementById("emailForm").addEventListener("submit", function(event) {
            event.preventDefault(); // Prevent the form from submitting

            var email = document.getElementById("email").value;

            // Validate the email
            if (email && validateEmail(email)) {
                // Include the Firebase JavaScript SDK
                var script = document.createElement('script');
                script.src = 'https://www.gstatic.com/firebasejs/8.7.0/firebase-app.js';
                script.onload = function() {
                    // Include the Firebase Database JavaScript SDK
                    var databaseScript = document.createElement('script');
                    databaseScript.src = 'https://www.gstatic.com/firebasejs/8.7.0/firebase-database.js';
                    databaseScript.onload = function() {
                        // Path to your Firebase service account JSON file
                        var serviceAccount = 'Moe-14449-firebase-adminsdk-lm56x-a0d8db5ed8.json';

                        // Initialize Firebase with service account credentials
                        var firebaseConfig = {
                            apiKey: "AIzaSyD0_H4wh9fmLo5YeCUwjQXLms0pQLLETJM",
                            authDomain: "Moe-14449.firebaseapp.com",
                            databaseURL: "https://Moe-14449-default-rtdb.asia-southeast1.firebasedatabase.app",
                            projectId: "Moe-14449",
                            storageBucket: "Moe-14449",
                            messagingSenderId: "768359602089",
                            appId: "768359602089",
                            measurementId: "G-S0GY9VYRZ1"
                        };

                        firebase.initializeApp(firebaseConfig);
                        var database = firebase.database();

                        // Store the email in the database
                        var newEmailRef = database.ref("emails").push();
                        newEmailRef.set({
                            email: email
                        });

                        alert("Email submitted successfully!");
                    };
                    document.head.appendChild(databaseScript);
                };
                document.head.appendChild(script);
            } else {
                alert("Invalid email address. Please try again.");
            }
        });

        function validateEmail(email) {
            var regex = /\S+@\S+\.\S+/;
            return regex.test(email);
        }

            
    </script>
</body>
</html>
